<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <apiVersion>53.0</apiVersion>
    <assignments>
        <name>Add_NCR_Payment_Site_Accounts</name>
        <label>Add NCR Payment Site Accounts</label>
        <locationX>1534</locationX>
        <locationY>215</locationY>
        <assignmentItems>
            <assignToReference>varCollectionSiteAccountIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Loop_NCR_Payment_Sites.Account_Sites__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_NCR_Payment_Sites</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_Parent_Payment_Site_to_Collection</name>
        <label>Add Parent Payment Site to Collection</label>
        <locationX>1208</locationX>
        <locationY>1681</locationY>
        <assignmentItems>
            <assignToReference>varCollectionParentSiteAccountIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Loop_Parent_Payment_Sites.Account_Sites__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Parent_Payment_Sites</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Multi_select_to_variable</name>
        <label>Assign Multi-select to variable</label>
        <locationX>2803</locationX>
        <locationY>883</locationY>
        <assignmentItems>
            <assignToReference>ReasonsforNoPaymentsvar</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Quote.qtc_Reasons_for_no_Payment_Processing__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>vPaymentsApprovalId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Quote.Payments_Approval__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Validations</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Count of Payment Sites Collection
Count of Child Quotes</description>
        <name>Set_Count_Variables</name>
        <label>Set Count Variables</label>
        <locationX>1234</locationX>
        <locationY>896</locationY>
        <assignmentItems>
            <assignToReference>varNumberOfSites</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>Get_Payment_Sites</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varChildQuoteCount</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>Get_Child_Quotes</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_Multi_Site</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Parent_Amendment_Cancelled_Quote_Count</name>
        <label>Set Parent Amendment Cancelled Quote Count</label>
        <locationX>1605</locationX>
        <locationY>1677</locationY>
        <assignmentItems>
            <assignToReference>varAmendmentCancelledQuoteCount</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>Get_Amendment_Quote_From_Multisite_Parent</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Has_Amendment_Cancelled_parent_Quote</targetReference>
        </connector>
    </assignments>
    <choices>
        <name>No_PFIP</name>
        <choiceText>No</choiceText>
        <dataType>String</dataType>
    </choices>
    <choices>
        <name>Yes_PFIP</name>
        <choiceText>Yes</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Yes</stringValue>
        </value>
    </choices>
    <collectionProcessors>
        <name>Filter_QLs_on_Has_Consumption_Schedule</name>
        <elementSubtype>FilterCollectionProcessor</elementSubtype>
        <label>Filter QLs on Has Consumption Schedule</label>
        <locationX>730</locationX>
        <locationY>905</locationY>
        <assignNextValueToReference>currentItem_Filter_QLs_on_Has_Consumption_Schedule</assignNextValueToReference>
        <collectionProcessorType>FilterCollectionProcessor</collectionProcessorType>
        <collectionReference>Get_Quote_Lines_From_Quote</collectionReference>
        <conditionLogic>and</conditionLogic>
        <conditions>
            <leftValueReference>currentItem_Filter_QLs_on_Has_Consumption_Schedule.SBQQ__HasConsumptionSchedule__c</leftValueReference>
            <operator>EqualTo</operator>
            <rightValue>
                <booleanValue>true</booleanValue>
            </rightValue>
        </conditions>
        <conditions>
            <leftValueReference>currentItem_Filter_QLs_on_Has_Consumption_Schedule.SBQQ__Quantity__c</leftValueReference>
            <operator>GreaterThan</operator>
            <rightValue>
                <numberValue>0.0</numberValue>
            </rightValue>
        </conditions>
        <connector>
            <targetReference>Check_Consumption_Schedules</targetReference>
        </connector>
    </collectionProcessors>
    <constants>
        <description>Product code for Aloha Essentials 2.0</description>
        <name>constProductCodeAlohaEssentials</name>
        <dataType>String</dataType>
        <value>
            <stringValue>PK233081470745</stringValue>
        </value>
    </constants>
    <constants>
        <description>Product Code for NCR Payments Processing</description>
        <name>constProductCodePaymentProcessing</name>
        <dataType>String</dataType>
        <value>
            <stringValue>SP373060217965</stringValue>
        </value>
    </constants>
    <constants>
        <description>The number of Payment Sites does not match the count of sites</description>
        <name>constSiteCountMismatch</name>
        <dataType>String</dataType>
        <value>
            <stringValue>The number of Payment Sites does not match the count of site</stringValue>
        </value>
    </constants>
    <decisions>
        <description>If child quote is linked to Amended AE +PP quote which has 0 Package qty, child quote&apos;s Payment type must be &quot;No Payments&quot;</description>
        <name>AE_PP_Is_Ammended</name>
        <label>AE+PP Is Ammended</label>
        <locationX>1882</locationX>
        <locationY>1681</locationY>
        <defaultConnector>
            <targetReference>Has_NCR_Payment_Processing_Product</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Amendment_Quote</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Parent_Quote__r.SBQQ__Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Amendment</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Parent_Quote__r.qtc_Cancelled__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Error_Payment_Type_No_Payment_0</targetReference>
            </connector>
            <label>Cancelled Amendment</label>
        </rules>
    </decisions>
    <decisions>
        <name>Decision_Deliver_To_Site_in_NCR_Payment_Site</name>
        <label>Decision Deliver To Site in NCR Payment Site</label>
        <locationX>1643</locationX>
        <locationY>404</locationY>
        <defaultConnector>
            <targetReference>Error_Deliver_To_Site_Not_In_NCR_Payment_Site</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Exists_in_NCR_Payment_Site</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varCollectionSiteAccountIds</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <elementReference>Get_Quote.Deliver_To_Site__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Loop_through_Quote_Lines</targetReference>
            </connector>
            <label>Exists in NCR Payment Site</label>
        </rules>
    </decisions>
    <decisions>
        <name>Find_Payment_Sites</name>
        <label>Find Payment Sites?</label>
        <locationX>2054</locationX>
        <locationY>549</locationY>
        <defaultConnector>
            <targetReference>Interchange_Payments_Pending</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_Payments_Sites_Exist</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Payment_Sites</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Error_Remove_User_Created_Payment_SIte</targetReference>
            </connector>
            <label>Yes - Payments Sites Exist</label>
        </rules>
    </decisions>
    <decisions>
        <name>Has_Amendment_Cancelled_parent_Quote</name>
        <label>Has Amendment Cancelled Parent Quote</label>
        <locationX>1735</locationX>
        <locationY>1678</locationY>
        <defaultConnector>
            <targetReference>AE_PP_Is_Ammended</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>HasAmendmentCancelledParentQuote</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varAmendmentCancelledQuoteCount</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Error_Payment_Quote_Amendment_Cancelled</targetReference>
            </connector>
            <label>Has Amendment Cancelled Parent Quote</label>
        </rules>
    </decisions>
    <decisions>
        <name>Has_NCR_Payment_Processing_Product</name>
        <label>Has NCR Payment Processing Product</label>
        <locationX>1884</locationX>
        <locationY>1023</locationY>
        <defaultConnector>
            <targetReference>Has_Payments</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>NCR_Payment_Processing_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Payments_Solution__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Error_NCR_Payments_Processing</targetReference>
            </connector>
            <label>NCR Payment Processing</label>
        </rules>
    </decisions>
    <decisions>
        <description>Decision to Determine if the Quote has Payment Site Records</description>
        <name>Has_No_Payment_Sites</name>
        <label>Has No Payment Sites</label>
        <locationX>2591</locationX>
        <locationY>1109</locationY>
        <defaultConnector>
            <targetReference>Get_Quote_Lines_with_Quantity</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Payment Site Records</defaultConnectorLabel>
        <rules>
            <name>Has_Payment_SIte_Records</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varNumberOfSites</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Error_AE_has_Payment_Site_Records</targetReference>
            </connector>
            <label>Has Payment SIte Records</label>
        </rules>
    </decisions>
    <decisions>
        <name>Has_Parent_AE_PP_Child</name>
        <label>Has Parent AE+PP Child</label>
        <locationX>1349</locationX>
        <locationY>1358</locationY>
        <defaultConnector>
            <targetReference>Error_Invalid_Multisite_Parent</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>AE+PP Invalid Parent</defaultConnectorLabel>
        <rules>
            <name>AE_PP_Missing_Parent</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Parent_Quote__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Error_Multi_Site_Parent_must_be_Populated</targetReference>
            </connector>
            <label>AE+PP Missing Parent</label>
        </rules>
        <rules>
            <name>AE_PP_Valid_Parent</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Parent_Quote__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Parent_Quote__r.qtc_Multi_Site_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Get_Quote.qtc_Multi_Site_Type__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Parent_Quote__r.qtc_Multi_Site_Relationship__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Parent</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Parent_Quote__r.SBQQ__Account__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Get_Quote.SBQQ__Account__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Parent_Quote__r.SBQQ__Primary__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Parent_Quote__r.qtc_Multi_Site__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Parent_payment_Sites</targetReference>
            </connector>
            <label>AE+PP Valid Parent</label>
        </rules>
    </decisions>
    <decisions>
        <name>Has_Payments</name>
        <label>Has Payments</label>
        <locationX>2157</locationX>
        <locationY>1111</locationY>
        <defaultConnector>
            <targetReference>Has_No_Payment_Sites</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>AE Only / No Payment</defaultConnectorLabel>
        <rules>
            <name>Has_Payment_Parent_Payment_Not_Approved</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Payments_Type__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>No Payments</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Parent_Quote__r.ApprovalStatus__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Approved</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>AE+PP</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Error_Parent_Payment_Approval</targetReference>
            </connector>
            <label>AE+PP/Has Payment / PP Not Approved</label>
        </rules>
        <rules>
            <name>Has_Payment_Parent_Payment_Approved_AE_Site_in_Payment_Sites</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Payments_Type__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>No Payments</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Parent_Quote__r.ApprovalStatus__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Approved</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>AE+PP</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Is_Deliver_To_Address_in_Parent_Payment_SItes</targetReference>
            </connector>
            <label>AE+PP/Has Payment / PP Approved</label>
        </rules>
        <rules>
            <name>Does_Not_Have_Payment</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Payments_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>No Payments</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>AE+PP</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Parent_Sites_has_Quote_Deliver_to_Site</targetReference>
            </connector>
            <label>AE+PP/No Payment</label>
        </rules>
        <rules>
            <name>AE_Only_Has_Payment</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>AE Only</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Payments_Type__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>No Payments</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Error_AE_Only_with_payment</targetReference>
            </connector>
            <label>AE Only/ Has Payment</label>
        </rules>
    </decisions>
    <decisions>
        <name>Interchange_Payments_Pending</name>
        <label>Interchange Payments Status</label>
        <locationX>2784</locationX>
        <locationY>469</locationY>
        <defaultConnector>
            <targetReference>Get_Quote_Lines_with_Quantity</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Pending</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Payments_Approval.ApprovalStatus__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Pending</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Interchange_Info</targetReference>
            </connector>
            <label>Pending</label>
        </rules>
    </decisions>
    <decisions>
        <name>is_Account_Site_already_in_collection</name>
        <label>is Account Site already in collection</label>
        <locationX>1397</locationX>
        <locationY>216</locationY>
        <defaultConnector>
            <targetReference>Add_NCR_Payment_Site_Accounts</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>accountSiteIsInCollection</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varCollectionSiteAccountIds</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <elementReference>Loop_NCR_Payment_Sites.Account_Sites__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Error_Duplicate_Payment_SItes</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <description>Decision to validate Parent Quote</description>
        <name>Is_AE_Parent_Valid</name>
        <label>Is AE Parent Valid</label>
        <locationX>1605</locationX>
        <locationY>1050</locationY>
        <defaultConnector>
            <targetReference>Error_Invalid_Multisite_Parent</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Invalid Parent</defaultConnectorLabel>
        <rules>
            <name>Missing_Parent</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Parent_Quote__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Error_Multi_Site_Parent_must_be_Populated</targetReference>
            </connector>
            <label>Missing Parent</label>
        </rules>
        <rules>
            <name>Invalid_Parent</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Parent_Quote__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Parent_Quote__r.qtc_Multi_Site_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Get_Quote.qtc_Multi_Site_Type__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Parent_Quote__r.qtc_Multi_Site_Relationship__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Parent</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Parent_Quote__r.SBQQ__Account__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Get_Quote.SBQQ__Account__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Parent_Quote__r.SBQQ__Primary__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Parent_Quote__r.qtc_Multi_Site__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Has_NCR_Payment_Processing_Product</targetReference>
            </connector>
            <label>Valid Parent</label>
        </rules>
    </decisions>
    <decisions>
        <description>Decision if Quote contains the product Aloha Essentials 2.0</description>
        <name>Is_Aloha_Essential</name>
        <label>Is Aloha Essential</label>
        <locationX>1830</locationX>
        <locationY>244</locationY>
        <defaultConnector>
            <targetReference>Loop_through_Quote_Lines</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Aloha_Essentials_2_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Loop_through_Quote_Lines.SBQQ__ProductCode__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>constProductCodeAlohaEssentials</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Error_Aloha_Essential</targetReference>
            </connector>
            <label>Aloha Essentials 2.0</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Deliver_To_Address_in_Parent_Payment_SItes</name>
        <label>Is Deliver To Address in Parent Payment SItes</label>
        <locationX>2361</locationX>
        <locationY>1298</locationY>
        <defaultConnector>
            <targetReference>Error_NCR_Parent_Payment_Site</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Deliver to Site Not a Parent Payment Site</defaultConnectorLabel>
        <rules>
            <name>Parent_has_Deliver_to_Address</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varCollectionParentSiteAccountIds</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <elementReference>Get_Quote.Deliver_To_Site__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.Deliver_To_Site__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Has_No_Payment_Sites</targetReference>
            </connector>
            <label>Deliver to is a Parent Payment SIte</label>
        </rules>
        <rules>
            <name>Deliver_To_Site_is_Null</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Quote.Deliver_To_Site__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Error_All_Sites_Must_Be_Populated</targetReference>
            </connector>
            <label>Deliver To Site is Null</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_EDC</name>
        <label>Is EDC?</label>
        <locationX>1463</locationX>
        <locationY>614</locationY>
        <defaultConnector>
            <targetReference>Number_of_Payment_sites_matches_Count_of_Sites</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_EDC</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Payments_Solution__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>EDC Promo</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Error_EDC</targetReference>
            </connector>
            <label>Yes - EDC</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Multi_Site</name>
        <label>Is Multi-Site?</label>
        <locationX>1349</locationX>
        <locationY>898</locationY>
        <defaultConnector>
            <targetReference>Get_Quote_Lines_with_Quantity</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Invalid_Quote_has_Children</name>
            <conditionLogic>2 AND ( 3 OR (1 AND 4) OR 5)</conditionLogic>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Relationship__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Child</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varChildQuoteCount</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PP Only</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Error_Child_Quote_has_children</targetReference>
            </connector>
            <label>Invalid Quote has Children</label>
        </rules>
        <rules>
            <name>AE_PP_PP_Only</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PP Only</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Relationship__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Child</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varChildQuoteCount</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Quote_Lines_with_Quantity</targetReference>
            </connector>
            <label>PP Only Child</label>
        </rules>
        <rules>
            <name>AE_Only_Parent</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>AE Only</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Relationship__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Parent</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Has_NCR_Payment_Processing_Product</targetReference>
            </connector>
            <label>AE Only Parent</label>
        </rules>
        <rules>
            <name>AE_Only_Child</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>AE Only</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Relationship__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Child</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varChildQuoteCount</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Is_AE_Parent_Valid</targetReference>
            </connector>
            <label>AE Only Child</label>
        </rules>
        <rules>
            <name>AE_PP_Child</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Relationship__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Child</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>AE+PP</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varChildQuoteCount</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Has_Parent_AE_PP_Child</targetReference>
            </connector>
            <label>AE+PP Child</label>
        </rules>
        <rules>
            <name>AE_PP_Parent</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>AE+PP</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Relationship__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Parent</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Is_EDC</targetReference>
            </connector>
            <label>AE+PP Parent</label>
        </rules>
        <rules>
            <name>PP_Only_Parent</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PP Only</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site_Relationship__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Parent</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Number_of_Payment_sites_matches_Count_of_Sites</targetReference>
            </connector>
            <label>PP Only Parent</label>
        </rules>
        <rules>
            <name>Single_Site_PF_Interchange</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Payments_Solution__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Payments First - Interchange</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Multi_Site__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varChildQuoteCount</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Find_Payment_Sites</targetReference>
            </connector>
            <label>Single Site - PF Interchange</label>
        </rules>
    </decisions>
    <decisions>
        <description>Number of Payment sites matches Count of Sites</description>
        <name>Number_of_Payment_sites_matches_Count_of_Sites</name>
        <label>Number of Payment sites matches Count of Sites</label>
        <locationX>1337</locationX>
        <locationY>388</locationY>
        <defaultConnector>
            <targetReference>Error_Payment_Site_Record_Count</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Site_Count_are_equal</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Number_of_Sites_with_Payments__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>varNumberOfSites</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Loop_NCR_Payment_Sites</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Parent_Sites_has_Quote_Deliver_to_Site</name>
        <label>Parent Sites has Quote Deliver to Site</label>
        <locationX>2357</locationX>
        <locationY>954</locationY>
        <defaultConnector>
            <targetReference>Has_No_Payment_Sites</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>parentSiteHasDeliverToSite</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varCollectionParentSiteAccountIds</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <elementReference>Get_Quote.Deliver_To_Site__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Error_Child_Quote_with_NO_Payments_Deliver_to_site_in_Parent</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>QLCS_Found</name>
        <label>QLCS Found?</label>
        <locationX>643</locationX>
        <locationY>273</locationY>
        <defaultConnector>
            <targetReference>QLCS_Error_Screen</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No - QLCS Not Found</defaultConnectorLabel>
        <rules>
            <name>Yes_QLCS_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_QLCS</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_Consumption_Schedules</targetReference>
            </connector>
            <label>Yes - QLCS Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Recall</name>
        <label>Recall?</label>
        <locationX>3129</locationX>
        <locationY>475</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recall_interchange</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Yes</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>RecallInterchange_0</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Submission_Type</name>
        <label>Submission Type</label>
        <locationX>3471</locationX>
        <locationY>1540</locationY>
        <defaultConnector>
            <targetReference>Update_Quote</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Quote</defaultConnectorLabel>
        <rules>
            <name>Interchange_New</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Payments_Solution__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Payments First - Interchange</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Payments_Approval</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.SBQQ__Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Quote</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_Payments_Approval</targetReference>
            </connector>
            <label>Interchange - New</label>
        </rules>
        <rules>
            <name>Interchange_Re_Submit</name>
            <conditionLogic>1 AND (2 OR 3)</conditionLogic>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Payments_Solution__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Payments First - Interchange</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Payments_Approval.ApprovalStatus__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Rejected</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Payments_Approval.ApprovalStatus__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Recalled</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Quote2</targetReference>
            </connector>
            <label>Interchange - Re-Submit</label>
        </rules>
    </decisions>
    <decisions>
        <name>Validations</name>
        <label>Validations</label>
        <locationX>2929</locationX>
        <locationY>884</locationY>
        <defaultConnector>
            <targetReference>Get_Payments_QL</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>All Site Info Populated</defaultConnectorLabel>
        <rules>
            <name>Not_all_Validations_Passed</name>
            <conditionLogic>1 OR 2 OR 3 OR (4 AND 5 AND 8 AND 10 AND 11) OR (6 AND 7 AND 9)  OR (12 AND NOT(9))</conditionLogic>
            <conditions>
                <leftValueReference>Get_Quote.Deliver_To_Site__c</leftValueReference>
                <operator>EqualTo</operator>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Ship_To_Account__c</leftValueReference>
                <operator>EqualTo</operator>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Bill_To_Site__c</leftValueReference>
                <operator>EqualTo</operator>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Has_Payments_Processing__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Reasons_for_no_Payment_Processing__c</leftValueReference>
                <operator>EqualTo</operator>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote_Lines_with_Quantity</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Cancellation_Reason__c</leftValueReference>
                <operator>EqualTo</operator>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote_Lines_with_Quantity</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.SBQQ__Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Amendment</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Payments_Solution__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Payments First - Headline</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote.qtc_Payments_Solution__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Payments First - Interchange</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Quote_Lines_with_Quantity</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Validation_Error_Screen</targetReference>
            </connector>
            <label>Not all Validations Passed</label>
        </rules>
    </decisions>
    <description>IDC - Sep 19, 2022 - SFCPQBLG-739 - Added in validation to confirm no Quotes without QLi can be submitted for approval.
ATG - Feb 1, 2022 - SFCPQBLG-795 - Added in validation to confirm QLCS exist for all usage products
IDC-  Jan 30,2022 - SFCPQBLG-660 - Payments Pricing Established field
ATG - Nov 2, 2021 - SFCPQBLG-499 - AM: Added criteria so that Amendments do not go for Payments Approval
ATG - September 21, 2021 - SFCPQBLG-437 - Updated EDC product code on EDC QL get component
ATG - September 15, 2021 - SFCPQBLG-437 - Update to File upload to accommodate EDC, added check on AE+PP parent for EDC
ATG - September 15, 2021 - SFCPQBLG-440 - Improvement in Upload doc process
ATG -  Sept 9, 2021 - Added Condition Get Payments Sites so that only Multi Site records are selected
ATG - Aug 30, 2021 - Added Status Update for Payments Approval submission
ATG - August 5, 2021 - SFCPQBLG-355 - Added a validation for child quotes when submitting a child quote.
ATG - July 15, 2021 - Updated error message for a PP Only or AE+PP Parent is submitted for approval and their Deliver to Site doesn&apos;t exist as an NCR Payments Site record.
ATG - July 7, 2021 - Fix Interchange recall decision
ATG - July 1, 2021 - AE Only Has Payments error, other cleanup
ATG - June 30, 2021 - add new errors for AE+PP child and parent paths
ATG - June 29, 2021 - Updated check for existence of payments processing product to utilize new Payments Solution field. Updates to conditionally display logic on payments screen components. Deleted extra decision for payments first approval check
ATG - June 28, 2021 - Fixed error message for AE Only quotes where Payments type isn&apos;t No Payments; Incorporated Payments First
ATG - June 25, 2021 - Fixed Amendment Cancelled check for AE+PP Child quotes with payments
ATG - June 23, 2021 - Updated Deliver to Site is null error
ATG - June 22, 2021 - Payment type for Amended and Cancelled
ATG - June 17, 2021 - Check deliver to site is part of NCR payment sites
ATG - June 11, 2021 - Multisite scenarios
ATG - May 27, 2021 - Removed AE+PP path
ATG - May 19, 2021- Multi-site Updates</description>
    <dynamicChoiceSets>
        <name>Payments_Pricing_Established_Choice_Set</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>Payments_Pricing_Established__c</picklistField>
        <picklistObject>SBQQ__Quote__c</picklistObject>
    </dynamicChoiceSets>
    <environments>Default</environments>
    <formulas>
        <name>InterchangeStatusDisplay</name>
        <dataType>String</dataType>
        <expression>CASE( {!Get_Payments_Approval.ApprovalStatus__c} , &quot;Approved&quot;, &quot;Approved&quot;, &quot;Recalled&quot;, &quot;Recalled&quot;, &quot;Pending&quot;, &quot;Pending&quot;, &quot;Rejected&quot;, &quot;Rejected&quot;, &quot;Approval Required&quot; )</expression>
    </formulas>
    <formulas>
        <name>IsInterchangeQuoteSubmittedForPaymentApproval</name>
        <dataType>Boolean</dataType>
        <expression>AND
	(
	TEXT({!Get_Quote.qtc_Payments_Solution__c}) =&apos;Payments First - Interchange&apos; 
	,
	TEXT({!Get_Quote.SBQQ__Type__c}) != &apos;Amendment&apos;
	,
	IF (
		IsBlank({!Get_Quote.Payments_Approval__c}),TRUE,
		OR
		(
			TEXT({!Get_Payments_Approval.ApprovalStatus__c}) = &apos;Recalled&apos;, 
			TEXT({!Get_Payments_Approval.ApprovalStatus__c}) = &apos;Rejected&apos;)
		)
	)</expression>
    </formulas>
    <interviewLabel>Submit for Approval Flow {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Submit Quote for Approval Flow</label>
    <loops>
        <description>Confirm that all quote lines that should have consumption schedules actually do</description>
        <name>Check_Consumption_Schedules</name>
        <label>Check Consumption Schedules</label>
        <locationX>730</locationX>
        <locationY>659</locationY>
        <collectionReference>Filter_QLs_on_Has_Consumption_Schedule</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Get_QLCS</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Get_Payment_Sites</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Loop_NCR_Payment_Sites</name>
        <label>Loop NCR Payment Sites</label>
        <locationX>1493</locationX>
        <locationY>390</locationY>
        <collectionReference>Get_Payment_Sites</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>is_Account_Site_already_in_collection</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Decision_Deliver_To_Site_in_NCR_Payment_Site</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Loop_Parent_Payment_Sites</name>
        <label>Loop Parent Payment Sites</label>
        <locationX>1365</locationX>
        <locationY>1678</locationY>
        <collectionReference>Get_Parent_payment_Sites</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Add_Parent_Payment_Site_to_Collection</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Get_Amendment_Quote_From_Multisite_Parent</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <description>Loop through Quote Lines</description>
        <name>Loop_through_Quote_Lines</name>
        <label>Loop through Quote Lines</label>
        <locationX>1840</locationX>
        <locationY>410</locationY>
        <collectionReference>Get_Quote_Lines_From_Quote</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Is_Aloha_Essential</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Get_Quote_Lines_with_Quantity</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordCreates>
        <name>Create_Payments_Approval</name>
        <label>Create Payments Approval</label>
        <locationX>3485</locationX>
        <locationY>1338</locationY>
        <assignRecordIdToReference>vPaymentsApprovalId</assignRecordIdToReference>
        <connector>
            <targetReference>Update_Quote2</targetReference>
        </connector>
        <inputAssignments>
            <field>quoteId__c</field>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <object>qtc_PaymentsApproval__c</object>
    </recordCreates>
    <recordLookups>
        <name>Get_Amendment_Quote_From_Multisite_Parent</name>
        <label>Get Amendment Quote From Multisite Parent</label>
        <locationX>1478</locationX>
        <locationY>1673</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Set_Parent_Amendment_Cancelled_Quote_Count</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SBQQ__Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Amendment</stringValue>
            </value>
        </filters>
        <filters>
            <field>SBQQ__Ordered__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>qtc_Cancelled__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>SBQQ__OriginalQuote__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Quote.qtc_Multi_Site_Parent_Quote__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>SBQQ__Quote__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>Get child quotes related to the multisite parent</description>
        <name>Get_Child_Quotes</name>
        <label>Get Child Quotes</label>
        <locationX>1110</locationX>
        <locationY>896</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Set_Count_Variables</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>qtc_Multi_Site_Parent_Quote__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>SBQQ__Quote__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Content_Document_Link</name>
        <label>Get Content Document Link</label>
        <locationX>2944</locationX>
        <locationY>1212</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_EDC_QLs_non_amend</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>LinkedEntityId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>ContentDocumentLink</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_EDC_QLs_non_amend</name>
        <label>Get EDC QLs non-amend</label>
        <locationX>3024</locationX>
        <locationY>1512</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Screen1</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SBQQ__Quote__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>SBQQ__EffectiveQuantity__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </filters>
        <filters>
            <field>qtc_Required_By_Product_Code__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>SP1000000417</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>SBQQ__QuoteLine__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Parent_payment_Sites</name>
        <label>Get Parent payment Sites</label>
        <locationX>1362</locationX>
        <locationY>1500</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Loop_Parent_Payment_Sites</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Quote__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Quote.qtc_Multi_Site_Parent_Quote__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>NCR_Payments_Site__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Payment_Sites</name>
        <label>Get Payment Sites</label>
        <locationX>901</locationX>
        <locationY>897</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Payments_Approval</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Quote__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Quote.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>qtc_Multi_Site__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>NCR_Payments_Site__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Payments_Approval</name>
        <label>Get Payments Approval</label>
        <locationX>1009</locationX>
        <locationY>897</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Child_Quotes</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Quote.Payments_Approval__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>qtc_PaymentsApproval__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Payments_QL</name>
        <label>Get Payments QL</label>
        <locationX>2943</locationX>
        <locationY>1076</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Content_Document_Link</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SBQQ__Quote__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>qtc_Payments_Processing_Non_Amendment__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>SBQQ__QuoteLine__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>Get Quote Line Consumption Schedule</description>
        <name>Get_QLCS</name>
        <label>Get QLCS</label>
        <locationX>939</locationX>
        <locationY>575</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>QLCS_Found</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SBQQ__QuoteLine__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Check_Consumption_Schedules.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>SBQQ__QuoteLineConsumptionSchedule__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Quote</name>
        <label>Get Quote</label>
        <locationX>443</locationX>
        <locationY>903</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Quote_Lines_From_Quote</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>SBQQ__Quote__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>Collection of quote lines associated to the quote</description>
        <name>Get_Quote_Lines_From_Quote</name>
        <label>Get Quote Lines From Quote</label>
        <locationX>592</locationX>
        <locationY>899</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Filter_QLs_on_Has_Consumption_Schedule</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SBQQ__Quote__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>SBQQ__QuoteLine__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Quote_Lines_with_Quantity</name>
        <label>Get Quote Lines with Quantity</label>
        <locationX>2606</locationX>
        <locationY>884</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Assign_Multi_select_to_variable</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SBQQ__Quote__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>SBQQ__Quantity__c</field>
            <operator>GreaterThan</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>SBQQ__QuoteLine__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>RecallInterchange_0</name>
        <label>Recall Interchange</label>
        <locationX>3340</locationX>
        <locationY>472</locationY>
        <connector>
            <targetReference>Update_Quote2_0</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Quote.Payments_Approval__c</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>qtc_ApprovalAction__c</field>
            <value>
                <stringValue>Recall</stringValue>
            </value>
        </inputAssignments>
        <object>qtc_PaymentsApproval__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>SubmitInterchange</name>
        <label>Submit Interchange</label>
        <locationX>3824</locationX>
        <locationY>1338</locationY>
        <connector>
            <targetReference>RecallSuccess_0</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>vPaymentsApprovalId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>qtc_ApprovalAction__c</field>
            <value>
                <stringValue>Submit</stringValue>
            </value>
        </inputAssignments>
        <object>qtc_PaymentsApproval__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Quote</name>
        <label>Update Quote</label>
        <locationX>3491</locationX>
        <locationY>1742</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Payments_Pricing_Established__c</field>
            <value>
                <elementReference>Payments_Pricing_Established</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>qtcApprovalStatusManual__c</field>
            <value>
                <stringValue>Pending</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>qtc_Approval_Notes__c</field>
            <value>
                <elementReference>Approval_Notes</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>qtc_Payments_Contract_End_Date__c</field>
            <value>
                <elementReference>Payments_Contract_End_Date</elementReference>
            </value>
        </inputAssignments>
        <object>SBQQ__Quote__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Quote2</name>
        <label>Update Quote Interchange</label>
        <locationX>3676</locationX>
        <locationY>1340</locationY>
        <connector>
            <targetReference>SubmitInterchange</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Payments_Approval__c</field>
            <value>
                <elementReference>vPaymentsApprovalId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Payments_Pricing_Established__c</field>
            <value>
                <elementReference>Payments_Pricing_Established</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SBQQ__Status__c</field>
            <value>
                <stringValue>In Review - Payments Team</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>qtc_Approval_Notes__c</field>
            <value>
                <elementReference>Approval_Notes</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>qtc_Payments_Contract_End_Date__c</field>
            <value>
                <elementReference>Payments_Contract_End_Date</elementReference>
            </value>
        </inputAssignments>
        <object>SBQQ__Quote__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Quote2_0</name>
        <label>Update Quote Draft</label>
        <locationX>3511</locationX>
        <locationY>472</locationY>
        <connector>
            <targetReference>RecallSuccess</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>SBQQ__Status__c</field>
            <value>
                <stringValue>Draft</stringValue>
            </value>
        </inputAssignments>
        <object>SBQQ__Quote__c</object>
    </recordUpdates>
    <screens>
        <name>Error_AE_has_Payment_Site_Records</name>
        <label>Error: AE has Payment Site Records</label>
        <locationX>2655</locationX>
        <locationY>1319</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>errorAEPaymentSiteRecords</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 16px; font-family: Calibri, &amp;quot;Segoe UI&amp;quot;, Calibri, Thonburi, Arial, Verdana, sans-serif, &amp;quot;Mongolian Baiti&amp;quot;, &amp;quot;Microsoft Yi Baiti&amp;quot;, &amp;quot;Javanese Text&amp;quot;; color: rgb(0, 0, 0);&quot;&gt; Error: Quote cannot have NCR Payments Site records in its current multi-site configuration. Either delete or update its configuration.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Error_AE_Only_with_payment</name>
        <label>Error: AE Only with payment</label>
        <locationX>2038</locationX>
        <locationY>1282</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>errorAEOnlyHasPayments</name>
            <fieldText>&lt;p&gt;Error: Payments type must be set to &quot;No Payments&quot; on AE Only Quotes&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Error_All_Sites_Must_Be_Populated</name>
        <label>Error All Sites Must Be Populated</label>
        <locationX>2501</locationX>
        <locationY>1483</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>errorAllSItesMustBePopulated</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;Error: All site information must be populated prior to submitting for approval.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Error_Aloha_Essential</name>
        <label>Error: Aloha Essential</label>
        <locationX>1838</locationX>
        <locationY>77</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>ErrorAlohaEssential</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 16px; font-family: &amp;quot;Calibri (Body)&amp;quot;, &amp;quot;Segoe UI&amp;quot;, Calibri, Thonburi, Arial, Verdana, sans-serif, &amp;quot;Mongolian Baiti&amp;quot;, &amp;quot;Microsoft Yi Baiti&amp;quot;, &amp;quot;Javanese Text&amp;quot;; color: rgb(0, 0, 0);&quot;&gt;Error: Quote is not allowed to have Aloha Essentials 2.0 in its current multi-site configuration. Either remove or update its configuration&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Error_Child_Quote_has_children</name>
        <label>Error: Child Quote has children</label>
        <locationX>1238</locationX>
        <locationY>1116</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>errorMessageChildQuoteWIthChildren</name>
            <fieldText>&lt;p&gt;The submitted quote has related child quotes. Please disassociate the child quotes before proceeding.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Error_Child_Quote_with_NO_Payments_Deliver_to_site_in_Parent</name>
        <label>Error: Child Quote with NO Payments Deliver to site in Parent</label>
        <locationX>2161</locationX>
        <locationY>949</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>errorNoPaymentChildQuoeDeliverToSite</name>
            <fieldText>&lt;p&gt;Error: Child Quotes where Payment Type = &quot;No Payments&quot; cannot have their Deliver to Site listed in the Multi-Site parent NCR Payments Sites list&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Error_Deliver_To_Site_Not_In_NCR_Payment_Site</name>
        <label>Error: Deliver To Site Not In NCR Payment Site</label>
        <locationX>1653</locationX>
        <locationY>133</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>errorDeliverToSIte</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;color: rgb(239, 141, 34); background-color: rgb(255, 255, 255);&quot;&gt;Error: The Deliver to Site on this quote must be created as an NCR Payment Site before this quote can be submitted for approval.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Error_Duplicate_Payment_SItes</name>
        <label>Error: Duplicate Payment SItes</label>
        <locationX>1415</locationX>
        <locationY>50</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>errorNCRDuplicatePaymentSItes</name>
            <fieldText>&lt;p&gt;Error: Duplicate NCR Payments Site detected. Please remove the duplicate before continuing&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Error_EDC</name>
        <label>Error: EDC</label>
        <locationX>1562</locationX>
        <locationY>747</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>ErrorAlohaEssential_0</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: &amp;quot;Calibri (Body)&amp;quot;, &amp;quot;Segoe UI&amp;quot;, Calibri, Thonburi, Arial, Verdana, sans-serif, &amp;quot;Mongolian Baiti&amp;quot;, &amp;quot;Microsoft Yi Baiti&amp;quot;, &amp;quot;Javanese Text&amp;quot;; font-size: 16px; background-color: rgb(255, 255, 255);&quot;&gt;Error: Quote is not allowed to have NCR Payments - EDC Promo in its current multi-site configuration. Either remove or update its configuration&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Error_Invalid_Multisite_Parent</name>
        <label>Error Invalid Multisite Parent</label>
        <locationX>1604</locationX>
        <locationY>1366</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>ErrorInvalidMultisiteParent</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 16px; font-family: Calibri, &amp;quot;Segoe UI&amp;quot;, Calibri, Thonburi, Arial, Verdana, sans-serif, &amp;quot;Mongolian Baiti&amp;quot;, &amp;quot;Microsoft Yi Baiti&amp;quot;, &amp;quot;Javanese Text&amp;quot;; color: rgb(0, 0, 0);&quot;&gt;Error: Multi-Site Parent Quote is Invalid.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Error_Multi_Site_Parent_must_be_Populated</name>
        <label>Error Multi Site Parent must be Populated</label>
        <locationX>1486</locationX>
        <locationY>1167</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>ErrorMultiSiteParentPopulated</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 16px; font-family: Calibri, &amp;quot;Segoe UI&amp;quot;, Calibri, Thonburi, Arial, Verdana, sans-serif, &amp;quot;Mongolian Baiti&amp;quot;, &amp;quot;Microsoft Yi Baiti&amp;quot;, &amp;quot;Javanese Text&amp;quot;; color: rgb(0, 0, 0);&quot;&gt;Error: Multi-Site Parent Quote field must be populated.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Error_NCR_Parent_Payment_Site</name>
        <label>Error NCR Parent Payment Site</label>
        <locationX>2239</locationX>
        <locationY>1480</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>errorNCRParentPaymentSite</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(239, 141, 34);&quot;&gt;Error: A NCR Payment Site record must be created on the parent quote before this quote can be submitted for approval.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Error_NCR_Payments_Processing</name>
        <label>Error: NCR Payments Processing</label>
        <locationX>1894</locationX>
        <locationY>598</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>ErrorNCRPaymentProcessing</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 16px; font-family: Calibri, &amp;quot;Segoe UI&amp;quot;, Calibri, Thonburi, Arial, Verdana, sans-serif, &amp;quot;Mongolian Baiti&amp;quot;, &amp;quot;Microsoft Yi Baiti&amp;quot;, &amp;quot;Javanese Text&amp;quot;; color: rgb(0, 0, 0);&quot;&gt;Error: Quote is not allowed to have NCR Payments Processing in its current multi-site configuration. Either remove or update its configuration&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <description>Parent Payment Quote has not been approved</description>
        <name>Error_Parent_Payment_Approval</name>
        <label>Error: Parent Payment Approval</label>
        <locationX>2164</locationX>
        <locationY>1277</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>errorParentPaymentQuote</name>
            <fieldText>&lt;p&gt;Error: Parent payment quote must be approved before the quote can be submitted for approval&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Error_Payment_Quote_Amendment_Cancelled</name>
        <label>Error Payment Quote Amendment Cancelled</label>
        <locationX>1744</locationX>
        <locationY>1887</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>errorParentQuoteAmendmentCancelled</name>
            <fieldText>&lt;p&gt;Error: Payments type must be set to &quot;No Payments&quot; when parent payment quote has been amended and cancelled.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <description>The number of Payment Sites does not match the count of Sites</description>
        <name>Error_Payment_Site_Record_Count</name>
        <label>Error: Payment Site Record Count</label>
        <locationX>1177</locationX>
        <locationY>385</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>textPaymentSiteMismatch</name>
            <fieldText>&lt;p&gt;Error: Number of Sites does not match NCR Payment Site record count.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <description>Error to display if Payment type is not set to No Payment</description>
        <name>Error_Payment_Type_No_Payment_0</name>
        <label>Error: Payment Type No Payment</label>
        <locationX>2096</locationX>
        <locationY>1678</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>errorNoPaymentPaymentSite_0</name>
            <fieldText>&lt;p&gt;Error: Payments type must be set to &quot;No Payments&quot; when Multi-Site Parent Payments quote is cancelled.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Error_Remove_User_Created_Payment_SIte</name>
        <label>Error: Remove User Created Payment SIte</label>
        <locationX>2061</locationX>
        <locationY>224</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>errorRemoveUserCreatedPaymentsSite</name>
            <fieldText>&lt;p&gt;Error: Please remove all user created NCR Payments Site records before continuing&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Interchange_Info</name>
        <label>Interchange Info</label>
        <locationX>2993</locationX>
        <locationY>469</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Recall</targetReference>
        </connector>
        <fields>
            <name>ApprovalSolution</name>
            <fieldText>&lt;p&gt;&lt;b&gt;Interchange Plus Approval Status:&lt;/b&gt; {!InterchangeStatusDisplay}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>recall_interchange</name>
            <choiceReferences>Yes_PFIP</choiceReferences>
            <choiceReferences>No_PFIP</choiceReferences>
            <dataType>String</dataType>
            <defaultSelectedChoiceReference>No_PFIP</defaultSelectedChoiceReference>
            <fieldText>Would you like to Recall Interchange Plus Approvals?</fieldText>
            <fieldType>RadioButtons</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>QLCS_Error_Screen</name>
        <label>QLCS Error Screen</label>
        <locationX>476</locationX>
        <locationY>466</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>QLCSerror</name>
            <fieldText>&lt;p&gt;Error: One of the Usage Products is missing a consumption schedule. &lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Please delete and rebuild your bundle ensuring you save immediately after cloning, prior to reconfiguring.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>RecallSuccess</name>
        <label>RecallSuccess</label>
        <locationX>3694</locationX>
        <locationY>480</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>Success1</name>
            <fieldText>&lt;p&gt;&lt;b&gt;Success!&lt;/b&gt; Interchange Plus Payments Approval has been Recalled&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>RecallSuccess_0</name>
        <label>SubmitSuccess</label>
        <locationX>4006</locationX>
        <locationY>1336</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>Success1_0</name>
            <fieldText>&lt;p&gt;&lt;b&gt;Success! &lt;/b&gt;This Quote has been submitted for Interchange Plus Payments Approval.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Screen1</name>
        <label>Screen1</label>
        <locationX>3285</locationX>
        <locationY>1537</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Submission_Type</targetReference>
        </connector>
        <fields>
            <name>Approval_Notes</name>
            <fieldText>Approval Notes</fieldText>
            <fieldType>LargeTextArea</fieldType>
            <isRequired>false</isRequired>
            <validationRule>
                <errorMessage>&lt;p&gt;Limited to 255 characters.&lt;/p&gt;</errorMessage>
                <formulaExpression>LEN({!Approval_Notes})&lt;256</formulaExpression>
            </validationRule>
        </fields>
        <fields>
            <name>Payments_Contract_End_Date</name>
            <dataType>Date</dataType>
            <defaultValue>
                <elementReference>Get_Quote.qtc_Payments_Contract_End_Date__c</elementReference>
            </defaultValue>
            <fieldText>Payments Contract End Date</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
            <visibilityRule>
                <conditionLogic>1 AND 2 AND (3 OR 4)</conditionLogic>
                <conditions>
                    <leftValueReference>Get_Quote.qtc_Has_Payments_Processing__c</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_Quote_Lines_with_Quantity.Id</leftValueReference>
                    <operator>IsNull</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>ReasonsforNoPaymentsvar</leftValueReference>
                    <operator>Contains</operator>
                    <rightValue>
                        <stringValue>Existing Contract (WP/NMS)</stringValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>ReasonsforNoPaymentsvar</leftValueReference>
                    <operator>Contains</operator>
                    <rightValue>
                        <stringValue>Existing Contract (Other)</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Payments_Pricing_Established</name>
            <choiceReferences>Payments_Pricing_Established_Choice_Set</choiceReferences>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>Get_Quote.Payments_Pricing_Established__c</elementReference>
            </defaultValue>
            <fieldText>Payments Pricing Established?</fieldText>
            <fieldType>DropdownBox</fieldType>
            <isRequired>true</isRequired>
            <visibilityRule>
                <conditionLogic>(1 AND 2 AND 4) OR 3</conditionLogic>
                <conditions>
                    <leftValueReference>Get_Quote.qtc_Has_Payments_Processing__c</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_Quote.SBQQ__Type__c</leftValueReference>
                    <operator>NotEqualTo</operator>
                    <rightValue>
                        <stringValue>Amendment</stringValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>IsInterchangeQuoteSubmittedForPaymentApproval</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_Quote.qtc_Payments_Solution__c</leftValueReference>
                    <operator>NotEqualTo</operator>
                    <rightValue>
                        <stringValue>Payments First - Interchange</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>datatable</name>
            <fieldText>&lt;p&gt;Don’t forget to attach your customer’s current payment processing statement. You can view all Quote attachments below to confirm.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>10 AND(1 OR 2 OR 3 OR (4 AND 5) OR (6 AND 7 AND 8) OR 9)</conditionLogic>
                <conditions>
                    <leftValueReference>Get_Payments_QL.qtc_Average_Check__c</leftValueReference>
                    <operator>GreaterThan</operator>
                    <rightValue>
                        <numberValue>200.0</numberValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_Payments_QL.qtc_Annual_Volume__c</leftValueReference>
                    <operator>GreaterThan</operator>
                    <rightValue>
                        <numberValue>5000000.0</numberValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_Quote.qtc_Request_Payments_Pricing_Review__c</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_Quote.qtc_Payments_Solution__c</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <stringValue>Payments First - Interchange</stringValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_Payments_Approval.ApprovalStatus__c</leftValueReference>
                    <operator>NotEqualTo</operator>
                    <rightValue>
                        <stringValue>Approved</stringValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_Quote.qtc_Multi_Site__c</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_Quote.SBQQ__Type__c</leftValueReference>
                    <operator>NotEqualTo</operator>
                    <rightValue>
                        <stringValue>Amendment</stringValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_Quote.qtc_Payments_Solution__c</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <stringValue>Legacy Payments</stringValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_EDC_QLs_non_amend.Id</leftValueReference>
                    <operator>IsNull</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_Quote.SBQQ__Type__c</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <stringValue>Quote</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>testFileUpload</name>
            <extensionName>c:LightingFileUpload</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>recordId</name>
                <value>
                    <elementReference>recordId</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
            <visibilityRule>
                <conditionLogic>10 AND (1 OR 2 OR 3 OR (4 AND 5) OR (6 AND 7 AND 8) OR 9)</conditionLogic>
                <conditions>
                    <leftValueReference>Get_Payments_QL.qtc_Average_Check__c</leftValueReference>
                    <operator>GreaterThan</operator>
                    <rightValue>
                        <numberValue>200.0</numberValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_Payments_QL.qtc_Annual_Volume__c</leftValueReference>
                    <operator>GreaterThan</operator>
                    <rightValue>
                        <numberValue>5000000.0</numberValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_Quote.qtc_Request_Payments_Pricing_Review__c</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_Quote.qtc_Payments_Solution__c</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <stringValue>Payments First - Interchange</stringValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_Payments_Approval.ApprovalStatus__c</leftValueReference>
                    <operator>NotEqualTo</operator>
                    <rightValue>
                        <stringValue>Approved</stringValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_Quote.qtc_Multi_Site__c</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_Quote.SBQQ__Type__c</leftValueReference>
                    <operator>NotEqualTo</operator>
                    <rightValue>
                        <stringValue>Amendment</stringValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_Quote.qtc_Payments_Solution__c</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <stringValue>Legacy Payments</stringValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_EDC_QLs_non_amend.Id</leftValueReference>
                    <operator>IsNull</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_Quote.SBQQ__Type__c</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <stringValue>Quote</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Validation_Error_Screen</name>
        <label>Validation Error Screen</label>
        <locationX>3113</locationX>
        <locationY>878</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>SiteRequiredOutput</name>
            <fieldText>&lt;p&gt;Error: All site information must be populated prior to submitting for approval.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>or</conditionLogic>
                <conditions>
                    <leftValueReference>Get_Quote.qtc_Bill_To_Site__c</leftValueReference>
                    <operator>EqualTo</operator>
                </conditions>
                <conditions>
                    <leftValueReference>Get_Quote.qtc_Ship_To_Account__c</leftValueReference>
                    <operator>EqualTo</operator>
                </conditions>
                <conditions>
                    <leftValueReference>Get_Quote.Deliver_To_Site__c</leftValueReference>
                    <operator>EqualTo</operator>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Reasons_error</name>
            <fieldText>&lt;p&gt;Error: Reasons for not selecting NCR Payments must be populated prior to submitting for approval.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>Get_Quote.qtc_Has_Payments_Processing__c</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>ReasonsforNoPaymentsvar</leftValueReference>
                    <operator>IsNull</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_Quote_Lines_with_Quantity.Id</leftValueReference>
                    <operator>IsNull</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_Quote.qtc_Payments_Solution__c</leftValueReference>
                    <operator>NotEqualTo</operator>
                    <rightValue>
                        <stringValue>Payments First - Interchange</stringValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_Quote.qtc_Payments_Solution__c</leftValueReference>
                    <operator>NotEqualTo</operator>
                    <rightValue>
                        <stringValue>Payments First - Headline</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Cancellation_Reason_Error</name>
            <fieldText>&lt;p&gt;Error: Cancellation Reason must be populated before submitting for approval&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>Get_Quote_Lines_with_Quantity.Id</leftValueReference>
                    <operator>IsNull</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_Quote.qtc_Cancellation_Reason__c</leftValueReference>
                    <operator>EqualTo</operator>
                </conditions>
                <conditions>
                    <leftValueReference>Get_Quote.SBQQ__Type__c</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <stringValue>Amendment</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>QliMissingError</name>
            <fieldText>&lt;p&gt;Error: Please add a package to the quote before submitting for approval&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>1 AND 2</conditionLogic>
                <conditions>
                    <leftValueReference>Get_Quote_Lines_with_Quantity.Id</leftValueReference>
                    <operator>IsNull</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Get_Quote.SBQQ__Type__c</leftValueReference>
                    <operator>NotEqualTo</operator>
                    <rightValue>
                        <stringValue>Amendment</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <start>
        <locationX>50</locationX>
        <locationY>890</locationY>
        <connector>
            <targetReference>Get_Quote</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <variables>
        <name>collectionPaymentSites</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>NCR_Payments_Site__c</objectType>
    </variables>
    <variables>
        <name>contentDocumentsVar</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ContentDocument</objectType>
    </variables>
    <variables>
        <name>currentItem_Filter_QLs_on_Has_Consumption_Schedule</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SBQQ__QuoteLine__c</objectType>
    </variables>
    <variables>
        <name>datatablevar</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue>&lt;table&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td&gt;File Name&lt;/td&gt; &lt;td&gt;File Extension&lt;/td&gt; &lt;td&gt;Created Date&lt;/td&gt; &lt;/tr&gt;</stringValue>
        </value>
    </variables>
    <variables>
        <name>PaymentsApproval</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>qtc_PaymentsApproval__c</objectType>
    </variables>
    <variables>
        <name>ReasonsforNoPaymentsvar</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Reasonsvar</name>
        <dataType>Multipicklist</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varAmendmentCancelledQuoteCount</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <description>Count of Child Quotes associated to the quote</description>
        <name>varChildQuoteCount</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <description>Collection of Account Ids from the Payment Site Records</description>
        <name>varCollectionParentSiteAccountIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varCollectionSiteAccountIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>variablecheck</name>
        <dataType>Multipicklist</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Holds the count of Payment Site Records</description>
        <name>varNumberOfSites</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>vPaymentsApprovalId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
