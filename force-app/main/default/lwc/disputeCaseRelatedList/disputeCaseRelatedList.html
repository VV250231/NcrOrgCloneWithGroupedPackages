<template>
    <article class="slds-card">
      <div class="slds-card__header slds-grid">
        <header class="slds-media slds-media_center slds-has-flexi-truncate">
          <div class="slds-media__figure">
            <span
              class="slds-icon_container slds-icon-standard-account"
              title="account"
            >
              <svg class="slds-icon slds-icon_small" aria-hidden="true">
                <use
                  xlink:href="/assets/icons/standard-sprite/svg/symbols.svg#case"
                ></use>
              </svg>
              <span class="slds-assistive-text">Dispute Cases</span>
            </span>
          </div>
          <div class="slds-media__body">
            <h2 class="slds-card__header-title">
              <!--<a
                href="#"
                class="slds-card__header-link slds-truncate"
                title="Dispute Cases"
              >-->
                <span>Dispute Cases</span>
              <!--</a>-->
            </h2>
          </div>
        </header>
      </div>
      <div class="slds-card__body slds-card__body_inner">
        <template if:true={disputeCases.data}>
          <table class="slds-table slds-table_fixed-layout slds-table_bordered">
            <thead>
              <tr class="slds-line-height_reset">
                <th class="" scope="col" >
                  <a data-id="CaseNumber" onclick={sort}>
                    <div class="slds-truncate" title="Case">Case</div>
                  </a>
                </th>
                <th class="" scope="col">
                    <a data-id="Contact.Name" onclick={sort}>
                  <div class="slds-truncate" title="Contact Name">
                    Contact Name
                  </div>
                  </a>
                </th>
                <th class="" scope="col">
                    <a data-id="Subject" onclick={sort}>
                  <div class="slds-truncate" title="Subject">Subject</div>
                  </a>
                </th>
                <th class="" scope="col">
                    <a data-id="Priority" onclick={sort}>
                  <div class="slds-truncate" title="Priority">Priority</div>
                  </a>
                </th>
                <th class="" scope="col">
                    <a data-id="CreatedDate" onclick={sort}>
                  <div class="slds-truncate" title="Date Opened">Date Opened</div>
                  </a>
                </th>
                <th class="" scope="col">
                  <a data-id="Status" onclick={sort}>
                    <div class="slds-truncate" title="Status">Status</div>
                  </a>
                </th>
                <th class="" scope="col">
                  <a data-id="Owner.Name" onclick={sort}>
                    <div class="slds-truncate" title="Owner">Owner</div>
                  </a>
                </th>
              </tr>
            </thead>
            <tbody>
              <template for:each={disputeCases.data} for:item="disputeCase">
                <!--<p key={disputeCase.Id}></p>-->
                <tr class="slds-hint-parent" key={disputeCase.Id}>
                  <td data-label="Case">
                    <div class="slds-truncate" title={disputeCase.CaseNumber}>
                      <lightning-button
                        key={disputeCase.Id}
                        variant="base"
                        label={disputeCase.CaseNumber}
                        title="View Case"
                        onclick={handleCaseView}
                        value={disputeCase.Id}
                      ></lightning-button>
                    </div>
                  </td>
                  <td data-label="Contact Name">
                    <template if:true={disputeCase.Contact}>
                    <div class="slds-truncate" title={disputeCase.Contact.Name}>
                      {disputeCase.Contact.Name}
                    </div>
                  </template>
                  </td>
                  <td data-label="Subject">
                    <div class="slds-truncate" title={disputeCase.Subject}>
                      {disputeCase.Subject}
                    </div>
                  </td>
                  <td data-label="Priority">
                    <div class="slds-truncate" title={disputeCase.Priority}>
                      {disputeCase.Priority}
                    </div>
                  </td>
                  <td data-label="CreatedDate">
                    <div class="slds-truncate" >
                      <lightning-formatted-date-time value={disputeCase.CreatedDate}></lightning-formatted-date-time>
                    </div>
                  </td>
                  <td data-label="Status">
                    <div class="slds-truncate" title={disputeCase.Status}>
                      {disputeCase.Status}
                    </div>
                  </td>
                  <td data-label="Owner">
                    <div class="slds-truncate" title={disputeCase.Owner.Name}>
                      {disputeCase.Owner.Name}
                    </div>
                  </td>
                </tr>
              </template>
            </tbody>
          </table>
        </template>
      </div>
      <footer class="slds-card__footer">
        <!--        <a class="slds-card__footer-action" href="#"
          >View All
          <span class="slds-assistive-text">Cases</span>
        </a>-->
      </footer>
    </article>
  </template>