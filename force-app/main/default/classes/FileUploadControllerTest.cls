@isTest
public class FileUploadControllerTest {
    
        public static testMethod void unitTest(){
        
        
        Pricing_Bid_Log__c pbl = new Pricing_Bid_log__c (create_version__c = true);
        insert pbl;
        system.assertEquals(pbl.Create_Version__c,true);
            Id RecordTypeIdSerPBL = Schema.SObjectType.Pricing_Bid_Log__c.getRecordTypeInfosByName().get('Services Bid Log').getRecordTypeId();
        Pricing_Bid_Log__c pblr = new Pricing_Bid_log__c (create_version__c = true, recordtypeid=RecordTypeIdSerPBL);
        insert pblr;
        
         Pricing_Bid_Log_Detail__c pdSol=new Pricing_Bid_Log_Detail__c(Name='123',Pricing_Bid_Log__c=pbl.id, pid__c='0', WOT__c='1', Description__c='2', Product_Category__c='INPUT', Local_Currency__c='USD 1', Exchange_Rate__c='11.1', Extended_List_Price_Per_Unit__c='21.1', Extended_MRP_Per_Unit__c='20', 
    MRP_Discount__c='12%',  Net_Price__c='231', Quantity__c='2', Product_Revenue__c='12', Controllable_GM__c='23%', Standard_GM__c='30%');
        
         Pricing_Bid_Log_Detail__c pdSer=new Pricing_Bid_Log_Detail__c(Name='123',Pricing_Bid_Log__c=pblr.id, BU_Warranty__c='Yes', BU_Warranty_SLA__c='7820XN02', CAF_List_Price_Per_Unit__c='111.111');
   
        insert pdSer;
        String JsonSol = '[{"Controllable_GM": "10.00%","Description": "","Exchange_Rate": "2","Extended_List_Price": "0","Extended_MRP": "0","Local_Currency": "USD","MRP_Discount": "0.00%","Net_Price": "0","PID": "0","Product_Category": "INPUT Accpted","Product_Revenue": "0","Qty": "0","Standard_GM": "120.00%","Wot": "0"},{"Controllable_GM": "10.00%","Description": "","Exchange_Rate": "2","Extended_List_Price": "0","Extended_MRP": "0","Local_Currency": "USD","MRP_Discount": "0.00%","Net_Price": "0","PID": "0","Product_Category": "INPUT Accpted","Product_Revenue": "0","Qty": "0","Standard_GM": "120.00%","Wot": "0"}]';
        //string JsonSol='(CSVWrapper:[Controllable_GM=10.00%, Description=, Exchange_Rate=2, Extended_List_Price=0, Extended_MRP=0, Local_Currency=USD, MRP_Discount=0.00%, Net_Price=0, PID=0, Product_Category=INPUT Accpted, Product_Revenue=0, Qty=0, Standard_GM=120.00%,Wot=0])';
        string JsonSer = '[{"BU_Warranty":"Yes","BU_Warranty_SLA":"7820XN02","BU_Warranty_Term":"1","CAF_List_Price":"111.111","Competitive_Innovation":"Competitive","Controllable_OI":"11.11","Cost_Pressure":"1.22 F","Date_dt":"5/20/2016","Duration_of_Contract":"1","Exchange_Rate":"11.1","FLMY_Rate":"11","GM":"1.31.68","GM_dollar":"1.24928","Installation_Total_Qty":"1.2323","Installation_Unit_Cost":"1","Managed_Services":"Y","NCR_Performance":"Analyst","PID":"7607-1500-8801","Price_Erosion_GM_Change":"1.765","Price_Erosion_Price_Change":"1.12","Product_Description":"INPUT","Region":"EMEA","Regular_Charge_Unit_Discount":"1.1","Regular_Charge_Unit_Extended_Net":"1","Regular_Charge_Unit_Total_Discount":"1.1","SAMY_rate":"10.14","SAMY_Type":"Plan","Scope_Erosion_GM_Change":"1.32","Scope_Erosion_USD":"1.19","Select_Erosion_Type":"Junk","ServiceNow_Opportunity_Number":"OPP0031920","SGM":"1.38","SGM_dollar":"1.24928","SID":"7607-SERV-0002","SLA":"68248X03","SLA_Description":"Test Description","Solution_Architect":"Ajay Dixit","SSC_Salesperson":"Ahad, Mohd","Total_Quantity_Labor_Hours":"1111","Unhappy_with_Incumbent":"Sample data","Unhappy_with_NCR_service":"Unhappy","Upgrade_Unit_Discount":"1.1","Upgrade_Unit_Extended_Net":"1.30.32","Upgrade_Unit_Total_Discount":"1.15.5"},{"BU_Warranty":"No","BU_Warranty_SLA":"7820XN50","BU_Warranty_Term":"1","CAF_List_Price":"29.32","Competitive_Innovation":"Competitive 2","Controllable_OI":"33.32","Cost_Pressure":"22 C","Date_dt":"5/22/2016","Duration_of_Contract":"5","Exchange_Rate":"1","FLMY_Rate":"10","GM":"31.68","GM_dollar":"24928","Installation_Total_Qty":"4005","Installation_Unit_Cost":"0","Managed_Services":"N","NCR_Performance":"Analyst","PID":"7607-1500-8801","Price_Erosion_GM_Change":"865","Price_Erosion_Price_Change":"15","Product_Description":"INPUT 2","Region":"RMEA","Regular_Charge_Unit_Discount":"6","Regular_Charge_Unit_Extended_Net":"0","Regular_Charge_Unit_Total_Discount":"7","SAMY_rate":"0.14","SAMY_Type":"Plan 2","Scope_Erosion_GM_Change":"32","Scope_Erosion_USD":"2000","Select_Erosion_Type":"Junk 2","ServiceNow_Opportunity_Number":"OPP0031920","SGM":"50","SGM_dollar":"24928","SID":"7607-SERV-0002","SLA":"68248X03","SLA_Description":"Test Description 2","Solution_Architect":"Khera, Rahul","SSC_Salesperson":"Rashid, Mudasir","Total_Quantity_Labor_Hours":"5353","Unhappy_with_Incumbent":"Sample data 2","Unhappy_with_NCR_service":"Unhappy 2","Upgrade_Unit_Discount":"3","Upgrade_Unit_Extended_Net":"40.32","Upgrade_Unit_Total_Discount":"10.5"}]';
        FileUploadController.getRecordTypeName(pbl.id);
         FileUploadController.getRecordTypeName(pblr.id);
       string data  = 'V290LFBJRCxEZXNjcmlwdGlvbixQcm9kdWN0IENhdGVnb3J5LExvY2FsIEN1cnJlbmN5LEV4Y2hhbmdlIFJhdGUsRXh0ZW5kZWQgTGlzdCBQcmljZSAoIFBlciBVbml0KSxFeHRlbmRlZCBNUlAgKFBlciBVbml0KSxNUlAgRGlzY291bnQgKCUpLE5ldCBQcmljZSAoJCksUXR5LFByb2R1Y3QgUmV2ZW51ZSAoJCksQ29udHJvbGxhYmxlIEdNICglKSxTdGFuZGFyZCBHTSAoJSkNCjAsMCwsSU5QVVQgQWNjcHRlZCxVU0QsMiwwLDAsMC4wMCUsMCwwLDAsMTAuMDAlLDEyMC4wMCUNCjEsMCwsSU5QVVQgRGVuaWVkLFVTRCw0LDAsMCwwLjAwJSwwLDAsMCw0MC4wMCUsMjAwLjAwJQ0KNSwwLCxJTlBVVCBSZW5ld2FsLFVTRCw0MDAwMDQsMCwwLDAuMDAlLDAsMCwwLDQwLjAwJSwyMDAuMDAlDQo=';
        string dataSer='RGF0ZSxTZXJ2aWNlTm93IE9wcG9ydHVuaXR5ICMsUmVnaW9uLFNTQyAoU2FsZXNwZXJzb24pLFNvbHV0aW9uIEFyY2hpdGVjdCxDb250cm9sbGFibGUgT0ksRHVyYXRpb24gb2YgY29udHJhY3QgKFllYXJzKSxCVSBXYXJyYW50eSxCVSBXYXJyYW50eSBUZXJtLEJVIFdhcnJhbnR5IFNMQSxTTEEsU0xBIERlc2NyaXB0aW9uLFNJRCxQSUQsUHJvZHVjdCBEZXNjcmlwdGlvbixUb3RhbCBRdWFudGl0eSAoTGFib3IgSG91cnMpLENBRiBMaXN0IFByaWNlICgkIFBlciBVbml0KSxVcGdyYWRlIFVuaXQgRGlzY291bnQsVXBncmFkZSBVbml0IFRvdGFsIERpc2NvdW50IChpbmNsdWRlcyBEaXNjb3VudCBtdWx0aXBsaWVyKSxVcGdyYWRlIFVuaXQgRXh0ZW5kZWQgTmV0ICQsUmVndWxhciBDaGFyZ2UgVW5pdCBEaXNjb3VudCxSZWd1bGFyIENoYXJnZSBVbml0IFRvdGFsIERpc2NvdW50IChpbmNsdWRlcyBEaXNjb3VudCBtdWx0aXBsaWVyKSxSZWd1bGFyIENoYXJnZSBVbml0IEV4dGVuZGVkIE5ldCAkLEV4Y2hhbmdlIFJhdGUsU0FNWSByYXRlLFNBTVkgdHlwZSxGTE1ZIHJhdGUsU0dNICQsU0dNLEdNICQsR00sSW5zdGFsbGF0aW9uIFRvdGFsIFF0eSxJbnN0YWxsYXRpb24gVW5pdCBDb3N0LE1hbmFnZWQgU2VydmljZXM/LFNlbGVjdCBFcm9zaW9uIFR5cGUsIlByaWNlIEVyb3Npb24sIFByaWNlIENoYW5nZSAlIiwiUHJpY2UgRXJvc2lvbiwgR00gQ2hhbmdlIChVU0QpIiwiU2NvcGUgRXJvc2lvbiwgR00gQ2hhbmdlICUiLCJTY29wZSBFcm9zaW9uLCBHTSBDaGFuZ2UgKFVTRCkiLEVyb3Npb24gRHJpdmVyIC0gTkNSIFBlcmZvcm1hbmNlLEVyb3Npb24gRHJpdmVyIC0gQ29zdCBQcmVzc3VyZSxFcm9zaW9uIERyaXZlciAtIENvbXBldGl0aXZlIElubm92YXRpb24sRXJvc2lvbiBEcml2ZXIgLSBVbmhhcHB5IHdpdGggSW5jdW1iZW50LEVyb3Npb24gRHJpdmVyIC0gVW5oYXBweSB3aXRoIE5DUiBzZXJ2aWNlcyxDb3VudHJ5ICxDdXN0b21lcixEZWFsIERlc2sgQW5hbHlzdCxEaXZpc2lvbixFeHRlbmRlZCBMaXN0IFByaWNlLEV4dGVuZGVkIE1SUCxNUlAgRGlzY291bnQsTmV0IFByaWNlLE9wcG9ydHVuaXR5IE51bWJlcixQcm9kdWN0IFJldmVudWUsUXVhbnRpdHksVG90YWwgTmV0IFJldmVudWUNCjUvMjAvMjAxNixPUFAwMDMxOTIwLEVNRUEsIkFoYWQsIE1vaGQiLEFqYXkgRGl4aXQsMTEuMTEsMSxZZXMsMSw3ODIwWE4wMiw2ODI0OFgwMyxUZXN0IERlc2NyaXB0aW9uLDc2MDctU0VSVi0wMDAyLDc2MDctMTUwMC04ODAxLElOUFVULDExMTEsMTExLjExMSwxLjEsMS4xNS41LDEuMzAuMzIsMS4xLDEuMSwxLDExLjEsMTAuMTQsUGxhbiwxMSwxLjI0OTI4LDEuMzgsMS4yNDkyOCwxLjMxLjY4LDEuMjMyMywxLFksSnVuaywxLjEyLDEuNzY1LDEuMzIsMS4xOSxBbmFseXN0LDEuMjIgRixDb21wZXRpdGl2ZSxTYW1wbGUgZGF0YSxVbmhhcHB5LFVTLEFoYWQsIlB1bmVldCwgQmhhdGlhIixMT0IsMS45ODcsMS41NDMsMS4xMiwxLjIsVGVzdCwxLjEyMDAwMiwxLjIsMQ0KNS8yMi8yMDE2LE9QUDAwMzE5MjAsUk1FQSwiUmFzaGlkLCBNdWRhc2lyIiwiS2hlcmEsIFJhaHVsIiwzMy4zMiw1LE5vLDEsNzgyMFhONTAsNjgyNDhYMDMsVGVzdCBEZXNjcmlwdGlvbiAyLDc2MDctU0VSVi0wMDAyLDc2MDctMTUwMC04ODAxLElOUFVUIDIsNTM1MywyOS4zMiwzLDEwLjUsNDAuMzIsNiw3LDAsMSwwLjE0LFBsYW4gMiwxMCwyNDkyOCw1MCwyNDkyOCwzMS42OCw0MDA1LDAsTixKdW5rIDIsMTUsODY1LDMyLDIwMDAsQW5hbHlzdCwyMiBDLENvbXBldGl0aXZlIDIsU2FtcGxlIGRhdGEgMixVbmhhcHB5IDIsVUssQWhhZCwiUHVuZWV0LCBCaGF0aWEiLExPQiAyLDk4NzIsNTQzLTIsMTIzLDIwMSxUZXN0IDIsMTIwMDAzLDIsNjAwDQo=';
        string base='Wot,PID,Description,Product Category,Local Currency,Exchange Rate,Extended List Price  Per Unit,Extended MRP Per Unit,MRP Discount,Net Price,Qty,Product Revenue,Controllable GM,Standard GM,0,0,INPUT Accpted,USD,2,0,0,0.00,0,0,0,10.00,120.00,1,0,INPUT Denied,USD,4,0,0,0.00,0,0,0,40.00,200.00,5,0,INPUT Renewal,USD,400004,0,0,0.00,0,0,0,40.00,200.00';
       // FileUploadController.readTheFile(pbl.id, 'SolutionBid Log Shortest Data',data, 'application/vnd.ms-excel');
       // FileUploadController.readTheFileSerBL(pbl.id, 'Services Sample Data By Iron',dataSer, 'application/vnd.ms-excel');
        FileUploadController.saveTheFileSolBL(pbl.id,JsonSol,true);
        FileUploadController.saveTheFileSerBL(pblr.id, JsonSer, true);  
        
        CSVWrapper obj = new CSVWrapper();
       
    }
   

}